{% extends "base.html" %}

{% block content %}

<div class="container">
    <table class="table table-striped table-sm table-hover">
        <thead>
            <tr>
                <th scope="col"></th>
                {% for month_data in monthly_data %}
                <th scope="col" class="text-center">{{month_data.displayed_date|date:"M Y"}}<br><a
                        style="color: gray; font-size: 0.7em;">({{month_data.first_date}})</a>
                </th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for category in categories %}
            <tr>
                <th scope="row">{{category}}</th>
                {% for month_data in monthly_data %}
                <td class="text-end">
                    {% for month_data_category in month_data.data %}
                    {% if month_data_category == category%}
                    <a class="text-decoration-none"
                        href=" {% url 'transactions_list' category.id%}?date_start={{month_data.first_date|date:'Y-m-d'}}&date_end={{month_data.last_date|date:'Y-m-d'}}">
                        {{month_data_category.sum_value|floatformat:2}} â‚¬
                    </a>
                    {% endif %}
                    {% endfor %}
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


{% endblock %}